{"ast":null,"code":"// src/App.js\nimport React,{useState,useCallback}from\"react\";import axios from\"axios\";import debounce from\"lodash/debounce\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_KEY=\"45e6d03e\";function App(){const[searchTerm,setSearchTerm]=useState(\"\");const[movies,setMovies]=useState([]);const[selectedMovie,setSelectedMovie]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const debouncedSearchMovies=useCallback(debounce(async query=>{if(!query)return;setLoading(true);setError(\"\");setSelectedMovie(null);try{const response=await axios.get(\"https://www.omdbapi.com/?s=\".concat(query,\"&apikey=\").concat(API_KEY));if(response.data.Response===\"True\"){setMovies(response.data.Search);}else{setError(response.data.Error);setMovies([]);}}catch(err){console.error(err);setError(\"Failed to fetch data\");}finally{setLoading(false);}},500),[]);const handleInputChange=e=>{const value=e.target.value;setSearchTerm(value);debouncedSearchMovies(value);};const searchMovies=()=>{debouncedSearchMovies.cancel();// Cancel debounce before immediate search\ndebouncedSearchMovies(searchTerm);};const fetchMovieDetails=async imdbID=>{try{const response=await axios.get(\"https://www.omdbapi.com/?i=\".concat(imdbID,\"&apikey=\").concat(API_KEY));setSelectedMovie(response.data);}catch(_unused){setError(\"Could not load movie details\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Movie Search App\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter movie title...\",value:searchTerm,onChange:handleInputChange,onKeyDown:e=>e.key===\"Enter\"&&searchMovies()}),/*#__PURE__*/_jsx(\"button\",{onClick:searchMovies,children:\"Search\"})]}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"movie-list\",children:movies.map(movie=>/*#__PURE__*/_jsxs(\"div\",{className:\"movie-card\",onClick:()=>fetchMovieDetails(movie.imdbID),children:[/*#__PURE__*/_jsx(\"img\",{src:movie.Poster,alt:movie.Title}),/*#__PURE__*/_jsxs(\"p\",{children:[movie.Title,\" (\",movie.Year,\")\"]})]},movie.imdbID))}),selectedMovie&&/*#__PURE__*/_jsxs(\"div\",{className:\"movie-detail\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[selectedMovie.Title,\" (\",selectedMovie.Year,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Actors:\"}),\" \",selectedMovie.Actors]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Plot:\"}),\" \",selectedMovie.Plot]}),/*#__PURE__*/_jsx(\"img\",{src:selectedMovie.Poster,alt:selectedMovie.Title})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useCallback","axios","debounce","jsx","_jsx","jsxs","_jsxs","API_KEY","App","searchTerm","setSearchTerm","movies","setMovies","selectedMovie","setSelectedMovie","loading","setLoading","error","setError","debouncedSearchMovies","query","response","get","concat","data","Response","Search","Error","err","console","handleInputChange","e","value","target","searchMovies","cancel","fetchMovieDetails","imdbID","_unused","className","children","type","placeholder","onChange","onKeyDown","key","onClick","map","movie","src","Poster","alt","Title","Year","Actors","Plot"],"sources":["C:/Users/Tarashdeep Singh/Desktop/movie-search-app/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport debounce from \"lodash/debounce\";\nimport \"./App.css\";\n\nconst API_KEY = \"45e6d03e\";\n\nfunction App() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [movies, setMovies] = useState([]);\n  const [selectedMovie, setSelectedMovie] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const debouncedSearchMovies = useCallback(\n    debounce(async (query) => {\n      if (!query) return;\n      setLoading(true);\n      setError(\"\");\n      setSelectedMovie(null);\n\n      try {\n        const response = await axios.get(\n          `https://www.omdbapi.com/?s=${query}&apikey=${API_KEY}`\n        );\n\n        if (response.data.Response === \"True\") {\n          setMovies(response.data.Search);\n        } else {\n          setError(response.data.Error);\n          setMovies([]);\n        }\n      } catch (err) {\n        console.error(err);\n        setError(\"Failed to fetch data\");\n      } finally {\n        setLoading(false);\n      }\n    }, 500),\n    []\n  );\n\n  const handleInputChange = (e) => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    debouncedSearchMovies(value);\n  };\n\n  const searchMovies = () => {\n    debouncedSearchMovies.cancel(); // Cancel debounce before immediate search\n    debouncedSearchMovies(searchTerm);\n  };\n\n  const fetchMovieDetails = async (imdbID) => {\n    try {\n      const response = await axios.get(\n        `https://www.omdbapi.com/?i=${imdbID}&apikey=${API_KEY}`\n      );\n      setSelectedMovie(response.data);\n    } catch {\n      setError(\"Could not load movie details\");\n    }\n  };\n\n  return (\n    <div className=\"app-container\">\n      <h1>Movie Search App</h1>\n      <div className=\"search-bar\">\n        <input\n          type=\"text\"\n          placeholder=\"Enter movie title...\"\n          value={searchTerm}\n          onChange={handleInputChange}\n          onKeyDown={(e) => e.key === \"Enter\" && searchMovies()}\n        />\n        <button onClick={searchMovies}>Search</button>\n      </div>\n\n      {loading && <p>Loading...</p>}\n      {error && <p className=\"error-text\">{error}</p>}\n\n      <div className=\"content-wrapper\">\n        <div className=\"movie-list\">\n          {movies.map((movie) => (\n            <div\n              key={movie.imdbID}\n              className=\"movie-card\"\n              onClick={() => fetchMovieDetails(movie.imdbID)}\n            >\n              <img src={movie.Poster} alt={movie.Title} />\n              <p>\n                {movie.Title} ({movie.Year})\n              </p>\n            </div>\n          ))}\n        </div>\n\n        {selectedMovie && (\n          <div className=\"movie-detail\">\n            <h2>\n              {selectedMovie.Title} ({selectedMovie.Year})\n            </h2>\n            <p>\n              <strong>Actors:</strong> {selectedMovie.Actors}\n            </p>\n            <p>\n              <strong>Plot:</strong> {selectedMovie.Plot}\n            </p>\n            <img src={selectedMovie.Poster} alt={selectedMovie.Title} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}